<template name="stockVarianceReport">
  {{> pageHeading title="Stock Variance Report" category="Stock" name="stocktake"}}

  <div class="wrapper wrapper-content animated value-details-report">
    <div class="row">
      <div class="col-lg-12">
        <div class="row m-b-sm m-t-sm">
          <div class="col-md-3 col-lg-5">
            <input type="text" class="form-control search-stock-items" placeholder="Search"/>
          </div>
          <div class="col-md-4 col-lg-3">
            {{> suppliersFilter onSupplierIdChanged=onSupplierIdChanged}}
          </div>
          <div class="col-md-5 col-lg-4">
            {{> stocktakeIntervalSelect
            firstStocktakeDate=firstStocktakeDate
            secondStocktakeDate=secondStocktakeDate
            onIntervalSubmit=onStocktakeIntervalSubmit}}
          </div>
        </div>
        <div class="ibox">
          {{#if emptyStocktake}}
            <hr>
            <h4 class="text-center">
              There's no data to compare. Stocktake by {{emptyStocktake}} is empty
            </h4>
          {{else}}
            <div class="ibox-content no-padding">
              <div class="table-responsive">
                <table class="table table-condensed table-hover table-striped">
                  <thead>
                  <tr>
                    {{#each tableHeader}}
                      <th>{{this}}</th>
                    {{/each}}
                  </tr>
                  </thead>
                  <tbody>
                  {{#each stockItems}}
                    <tr>
                      <td class="edit-stock-item">{{description}}</td>
                      <td>$ {{costInFirstStocktake}}</td>
                      <td>$ {{ordersReceived}}</td>
                      <td>$ {{costInSecondStocktake}}</td>
                      <td>$ {{expectedCost}}</td>
                      <td>$ {{actualCost}}</td>
                      <td>$ {{variance}}</td>
                    </tr>
                  {{/each}}
                  </tbody>
                </table>
              </div>
            </div>
          {{/if}}
        </div>
      </div>
    </div>
  </div>
</template>