<template name="menuListRankReport">
  {{> pageHeading title="Menu Rank Report" category='Menus' name="menuList"}}

  <div class="wrapper wrapper-content animated">
    <div class="row">
      <div class="select-range-container col-md-12 col-lg-12">
        <div class="col-md-3 col-lg-3">
          <button data-toggle="dropdown"
                  class="btn btn-white dropdown-toggle form-control text-capitalize text-align-left">
            {{selectedCategory.name}}
          </button>
          <span class="caret caret-pulled-right pull-right"></span>
          <ul class="dropdown-menu text-capitalize filter-menus">
            {{#each categories}}
              <li>
                <a href="{{pathFor route='menuItemsRankReport' category=_id rangeType=../rangeType startDate=../startDate endDate=../endDate}}">
                  {{name}}
                </a>
              </li>
            {{/each}}
          </ul>
        </div>
        <div class="col-md-3 col-lg-3">
          <button data-toggle="dropdown" class="btn btn-white form-control dropdown-toggle col-md-3 col-lg-3">
            {{selectedRange.text}}
          </button>
          <span class="caret caret-pulled-right pull-right"></span>
          <ul class="dropdown-menu filter-menus">
            {{#each ranges}}
              <li class="date"><a href="">{{text}}</a></li>
            {{/each}}
          </ul>
        </div>
        {{#if customRangeSelected}}
          {{> menuItemReportDatepicker}}
        {{/if}}
      </div>
    </div>
    <hr>
    {{#if menuItems}}
      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              {{#each theadItems}}
                <td>{{{this}}}</td>
              {{/each}}
            </tr>
          </thead>
          <tbody class="table-hover">
            {{#each menuItems}}
              <tr>
                {{> menuItemReport item=this itemsCount=../menuItemsCount}}
              </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
    {{else}}
      <h4 class="text-center">Menu items ranks for {{startDate}} {{#if endDate}} - {{endDate}}{{/if}} are not available now</h4>
    {{/if}}
  </div>
</template>