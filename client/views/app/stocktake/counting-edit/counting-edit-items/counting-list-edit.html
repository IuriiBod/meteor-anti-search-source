<template name="stockCountingEdit">
  <div class="row">
    <div class="col-lg-12">
      {{#if notTemplate}}
        <a class="btn btn-primary btn-sm pull-right" href="{{pathFor route='stocktakeOrdering' _id=stocktakeId}}">View Orders<br></a>
      {{else}}
        <a class="btn btn-primary btn-sm pull-right generateOrders">Save stocktake &amp; generate orders<br></a>
        <a href="{{pathFor route="stocktakeCounting" _id=stocktakeId}}" class="btn btn-link btn-sm pull-right saveStockTake"><i class="fa fa-fw fa-save"></i>Save</a>
      {{/if}}
      {{dateFormat stockTakeDate}}
      <hr>
    </div>
  </div>

  <div class="row">
    {{> areaFiltersEdit stockTakeData=stockTakeCountingContext}}
    {{#if state$activeSpecialArea}}
      <div class="col-md-8">
        {{> sortableStockItems ingredientsList=ingredientsList stockTakeData=stockTakeCountingContext}}
      </div>
    {{else}}
      Select areas to show list of stock items
    {{/if}}
  </div>

  <!-- STOCKS MODAL LIST-->
  {{#if state$activeSpecialArea}}
    <div class="modal fade" id="stocksListModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">
      {{> stocksModalList name="stockModal" modalStockListParams=modalStockListParams}}
    </div>
  {{/if}}
  <!-- /STOCKS MODAL LIST -->

  <!-- ADD GENERAL AREA MODAL LIST-->
  <div class="modal fade" id="addNewGeneralAreaModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
       aria-hidden="true">
    {{> newAreaModal name="general"}}
  </div>
  <!-- /ADD GENERAL AREA MODAL LIST-->

  <!-- ADD SPECIAL AREA MODAL LIST-->
  <div class="modal fade" id="addNewSpecialAreaModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
       aria-hidden="true">
    {{> newAreaModal name="special" generalArea=stockTakeCountingContext.activeGeneralArea}}
  </div>
  <!-- /ADD SPECIAL AREA MODAL LIST-->
</template>