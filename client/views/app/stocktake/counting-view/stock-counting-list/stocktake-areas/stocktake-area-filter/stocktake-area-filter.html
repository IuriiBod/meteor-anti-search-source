<template name="stocktakeAreaFilter">
  <div class="col-md-4 no-margin filtering-area">
    {{#each generalAreas}}
      {{#if ../stockTakeData.editableStockTake}}
        {{> areaItemEdit item=this itemClass="garea-filter" stockTakeData=../stockTakeData}}
        <div class="collapse {{#if activeGeneralArea this._id}} in {{/if}}" id="{{this._id}}">
          <div class="well">
            {{#each specialAreas this._id}}
              {{> areaItemEdit item=this itemClass="sarea-filter" stockTakeData=../../stockTakeData}}
            {{else}}
              No Special Areas
            {{/each}}
            <div class="button-wrapper">
              <a href="#" data-toggle="modal" class="btn btn-outline btn-primary col-md-12 no-margin addNewSpecialArea">Add</a>
            </div>
          </div>
        </div>
      {{else}}
        {{> areaItemView item=this itemClass="garea-filter" stockTakeData=../stockTakeData}}
        <div class="collapse {{#if activeGeneralArea this._id}} in {{/if}}" id="{{this._id}}">
          <div class="well">
            {{#each specialAreas this._id}}
              {{> areaItemView item=this itemClass="sarea-filter" stockTakeData=../../stockTakeData}}
            {{else}}
              No Special Areas
            {{/each}}
          </div>
        </div>
      {{/if}}
    {{else}}
      No General Areas
    {{/each}}
    {{#if stockTakeData.editableStockTake}}
      <a href="#addNewGeneralAreaModal" data-toggle="modal"
         class="btn btn-outline btn-primary col-md-12 no-margin">Add</a>
    {{/if}}
  </div>
</template>