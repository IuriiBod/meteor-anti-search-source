<template name="salesPrediction">
  <div class="row">
    {{> render component="FilterByCategory"}}
    {{> render component="menuItemsSearch" searchSource=state$getSearchSource}}
  </div>
  <div class="prediction-component">
    <div class="prediction-panel">
      <div class="sales-per-menu-item-section table-scrollable">
        <table class="table table-striped table-condensed white-bg">
          <thead>
          <tr>
            <th></th>
            {{#each state$week}}
              <th colspan="2" style="text-align: center;">
                {{getDayOfWeek this}}
                <h5>{{formatDate this}}</h5>
              </th>
            {{/each}}
          </tr>
          <tr>
            <!--Weather-->
            <td></td>
            {{#each state$week}}
              {{> render component="weatherForecast" date=this}}
            {{/each}}
          </tr>
          <tr>
            <th></th>
            {{#each state$week}}
              <th>Forecast</th>
              <th>Actual</th>
            {{/each}}
          </tr>
          </thead>
          <tbody>
          {{>render component="totalSalesRow"}}
          {{#each state$getMenuItems}}
            {{> render component="predictionSalesRow" currentWeekDate=state$currentWeekDate menuItem=this}}
          {{/each}}
          </tbody>
        </table>
      </div>
    </div>
    <div class="load-more-button-wrapper">
      {{#if state$allItemsLoaded}}
        <h4><b>All menu items are loaded</b></h4>
      {{else}}
        <button id="loadMoreBtn" class="btn btn-white center-block" type="button">Load more</button>
      {{/if}}
    </div>
  </div>
</template>