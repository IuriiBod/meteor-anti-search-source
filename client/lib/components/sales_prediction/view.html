<template name="salesPrediction">
  <div class="prediction-component">
    <div class="prediction-panel">
      <div class="sales-per-menu-item-section">
        <table class="table table-striped table-condensed white-bg">
          <thead>
          <tr>
            <th></th>
            {{#each state$week}}
              <th colspan="2" style="text-align: center;">
                {{getDayOfWeek this}}
                <h5>{{formatDate this}}</h5>
              </th>
            {{/each}}
          </tr>
          <tr>
            <!--Weather-->
            <td></td>
            {{#each state$week}}
              {{> render component="weatherForecast" date=this}}
            {{/each}}
          </tr>
          <tr>
            <th></th>
            {{#each state$week}}
              <th>Forecast</th>
              <th>Actual</th>
            {{/each}}
          </tr>
          </thead>
          <tbody>
          <tr>
            <td><b>Sales</b></td>
            {{#each state$week}}
              {{#with state$getTotalSales this}}
                <td>${{predicted}}</td>
                <td>${{actual}}</td>
              {{/with}}
            {{/each}}
          </tr>
          {{#each state$menuItems}}
            <tr>
              <td>{{this.name}}</td>
              {{#each state$weekPrediction this._id}}
                <td>{{this.predictionQuantity}}</td>
                <td>{{this.actualQuantity}}</td>
              {{/each}}
            </tr>
          {{/each}}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</template>