<template name="profile">
  <!-- Page heading -->
  {{> render component="pageHeading" title='Profile' }}
  <div class="wrapper wrapper-content">
    <div class="row animated">
      <div class="col-md-4">
        <div class="ibox float-e-margins">
          <div class="ibox-title">
            <h5>Profile Detail</h5>
          </div>
          <div>
            <div class="ibox-content no-padding border-left-right">
              <img alt="image" class="img-responsive" src="{{state$image}}">
            </div>

            <div class="ibox-content profile-content">

              <h4>
                <strong>
                  {{#if state$isEditPermitted}}
                    <a href="#" id="username" data-type="text" data-pk="{{state$basic._id}}" data-url="/post" data-title="Enter Username" class="editable">{{state$basic.username}}</a>
                  {{else}}
                    {{state$basic.username}}
                  {{/if}}
                </strong>
              </h4>

              <!-- {{#if state$isEditPermitted}}
                {{#if state$basic.profile.address}}
                <p><i class="fa fa-map-marker m-r-xs"></i>
                  <a href="#" id="address" data-type="text" data-pk="1" data-url="/post" data-title="Enter Address" class="editable">{{state$basic.profile.address}}</a>
                </p>
                {{/if}}
              {{else}}
                <p><i class="fa fa-map-marker m-r-xs"></i>{{state$basic.profile.address}}</p>
              {{/if}} -->


              <p><i class="fa fa-mobile-phone m-r-xs"></i>
                {{#if state$isEditPermitted}}
                <a href="#" id="phone" data-type="text" data-pk="{{state$basic._id}}" data-url="/post" data-title="Enter Phone number" class="editable">{{state$basic.profile.phone}}</a>
                  {{#if state$basic.profile.phone}}
                  {{else}}
                    {{#if state$isNotMe}}
                      <a href="#" class="m-l-md">Ask from {{state$basic.username}}</a>
                    {{/if}}
                  {{/if}}
                {{else}}
                  {{state$basic.profile.phone}}
                {{/if}}
              </p>

              <p><i class="fa fa-envelope m-r-xs"></i>
                {{#if state$isEditPermitted}}
                  <a href="#" id="email" data-type="text" data-pk="{{state$basic._id}}" data-url="/post" data-title="Enter Email" class="editable">{{state$email}}</a>
                  {{#if state$email}}
                  {{else}}
                    {{#if state$isNotMe}}
                      <a href="#" class="m-l-md">Ask from {{state$basic.username}}</a>
                    {{/if}}
                  {{/if}}
                {{else}}
                  {{state$email}}
                {{/if}}
              </p>
              <br>

              <h4>Pay rates</h4>  
              <p>Weekdays: 
                <a href="#" id="weekdaysrate" data-type="text" data-pk="{{state$basic._id}}" data-url="/post" data-title="Enter Username" class="editable">{{state$basic.profile.payrates.weekdays}}</a>
              </p>
              <p>Saturday: 
                <a href="#" id="saturdayrate" data-type="text" data-pk="{{state$basic._id}}" data-url="/post" data-title="Enter Username" class="editable">{{state$basic.profile.payrates.saturday}}</a>
              </p>
              <p>Sunday:  
                <a href="#" id="sundayrate" data-type="text" data-pk="{{state$basic._id}}" data-url="/post" data-title="Enter Username" class="editable">{{state$basic.profile.payrates.sunday}}</a>
              </p>
              <br>

              <h4>Availability</h4>
              <div class="checkbox">
                <label>
                  <input type="checkbox" value=""> Monday 
                </label>
              </div>
              <div class="checkbox">
                <label>
                  <input type="checkbox" value=""> Tuesday 
                </label>
              </div>
              <div class="checkbox">
                <label>
                  <input type="checkbox" value=""> Wednesday 
                </label>
              </div>
              <div class="checkbox">
                <label>
                  <input type="checkbox" value=""> Thursday 
                </label>
              </div>
              <div class="checkbox">
                <label>
                  <input type="checkbox" value=""> Friday 
                </label>
              </div>
              <div class="checkbox">
                <label>
                  <input type="checkbox" value=""> Saturday 
                </label>
              </div>
              <div class="checkbox">
                <label>
                  <input type="checkbox" value=""> Sunday 
                </label>
              </div>
              <br>

              <h4>No. of shifts per week</h4>             
              <select class="form-control shiftsPerWeek" data-id="{{state$basic._id}}">
              {{#each state$shiftsPerWeek}}
                <option selected="{{this.selected}}">{{this.shift}}</option>
              {{/each}}
              </select>
            </div>

          </div>
        </div>
      </div>
      <div class="col-md-8">
        <div class="ibox float-e-margins">
          <div class="ibox-title">
            <h5>Rostered Shifts</h5>
          </div>
          <div class="ibox-content">

            <h4>Next Shifts</h4>
            {{#each state$rosteredForShifts}}
            <p><a href="{{_id}}">{{dayFormat shiftDate}} {{timeFormat startTime}} - {{timeFormat endTime}}</a></p>
            {{else}}
            No shifts rostered yet.
            {{/each}}
            <br><br>

            <h4>Open Shifts</h4>
            {{#each state$openedShifts}}
            <p><a href="{{_id}}">{{dayFormat shiftDate}} {{timeFormat startTime}} - {{timeFormat endTime}}</a></p>
            {{else}}
            No shifts opened yet.
            {{/each}}
          </div>
        </div>
      </div>

      <div class="col-md-8">
        <div class="ibox float-e-margins">
          <div class="ibox-title">
            <h5>Training</h5>
          </div>
          <div class="ibox-content">
            Coming soon
          </div>
        </div>
      </div>
    </div>
  </div>
</template>