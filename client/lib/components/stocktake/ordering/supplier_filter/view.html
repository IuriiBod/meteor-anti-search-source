<template name="supplierFilter">
  {{#each state$suppliers}}
    <a class="btn {{#if state$thisSupplierActive this}} btn-primary {{else}} btn-default {{/if}} activateSupplier" data-id="{{this}}">{{this}}
      {{#if state$thisSupplierActive this}}
        <i class="fa fa-fw fa-check"></i>
      {{/if}}
    </a>
  {{/each}}
  <hr>
  <h2>{{state$activeSupplier}}
    <!-- <small class="text-info pull-right"> -->
    <!-- Set this date with x editable -->
    <!--DEV: Mail button - opens modal with draft email to send to supplier. -->
    {{#if state$receipt}}
      <small class="text-info pull-right"><i class="fa fa-fw fa-check"></i>Status: {{state$orderSentDetails}}</small>
      {{#if state$receipt.expectedDeliveryDate}}
        <small class="text-success pull-right">Expected delivery on {{timeFormattedWithDate state$receipt.expectedDeliveryDate}}</small>
      {{/if}}
    {{else}}
      <a class="btn btn-primary setOrder" data-type="emailed">
        <i class="fa fa-envelope-o fa-fw fa-lg"></i>Send email
      </a>
    <!--DEV: Phone button - Marks the order as have been phones through and what time it has been marked. -->
      <a class="btn btn-primary setOrder" data-type="phoned">
        <i class="fa fa-fw fa-lg fa-phone"></i>Mark as phoned through
      </a>
    {{/if}}
    <!--DEV: This shows the success state when the order is marked as sent or called through, buttons should disappear, this status message should be displayed -->
    <!-- </small> -->
  </h2>
  <hr>
</template>