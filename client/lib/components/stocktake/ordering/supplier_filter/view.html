<template name="supplierFilter">
  {{#each state$suppliers}}
    <a class="btn {{#if state$receiptExists this}} btn-primary {{else}} btn-default {{/if}} activateSupplier" data-id="{{this}}">{{this}}
    </a>
  {{/each}}
  <hr>
  <h2>{{state$activeSupplier}}
    <small class="text-info pull-right">
    {{#if state$receipt}}
    <!-- Set this date with x editable -->
      {{#if state$receipt.expectedDeliveryDate}}
        Expect delivery on {{timeFormattedWithDate state$receipt.expectedDeliveryDate}}
      {{/if}}
      {{#if state$orderSentDetails}}
      <i class="fa fa-fw fa-check"></i>Status: {{state$orderSentDetails}}
      {{/if}}
    {{else}}
    <!--DEV: Mail button - opens modal with draft email to send to supplier. -->
      <a class="btn btn-primary setOrder" data-type="emailed">
        <i class="fa fa-envelope-o fa-fw fa-lg"></i>Send email
      </a>
    <!--DEV: Phone button - Marks the order as have been phones through and what time it has been marked. -->
      <a class="btn btn-primary setOrder" data-type="phoned">
        <i class="fa fa-fw fa-lg fa-phone"></i>Mark as phoned through
      </a>
    <!--DEV: This shows the success state when the order is marked as sent or called through, buttons should disappear, this status message should be displayed -->
    {{/if}}
    </small>
  </h2>
  <hr>
</template>