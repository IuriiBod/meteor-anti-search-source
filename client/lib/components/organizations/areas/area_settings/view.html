<template name="areaSettings">
  <div class="flyout-header">
    <button class="close-flyout-button">
      <i class="fa fa-angle-right"></i>
    </button>
    {{state$area.name}} settings
  </div>

  <div class="flyout-content">

    <div class="name-editable-wrapper">
      <h1 class="area-name" style="display: inline-block;" data-id="{{state$area._id}}"
          data-display="false">{{state$area.name}}</h1>
    </div>

    <div class="form-group">
      <label class="col-sm-2 control-label">Area Color</label>

      <div class="col-sm-10">
        {{>render component="colorPicker" onColorChange=state$onColorChange checkedColor=state$areaColor}}
      </div>
    </div>

    <div class="area-users">
      {{#each state$areaUsers}}
        <div class="user-profile-image-container">
          {{#if isManager}}
            {{#unless isMe _id}}
              <i class="fa fa-times remove-user-from-area"></i>
            {{/unless}}
          {{/if}}
          <a href="/user/profile/{{_id}}">
            <img src="{{profilePicture _id}}" alt="Profile photo of {{username _id}}" class="user-photo-min"
                 title="{{username _id}}"/>
          </a>
        </div>
      {{/each}}
    </div>

    {{#if isManager}}
      <button class="btn btn-white col-xs-12 add-user" data-id="{{state$area._id}}">
        <i class="fa fa-user-plus"></i> Add User
      </button>
      <br/>
      {{#if state$addUser}}
        {{> render component='addUserPopup' areaId=state$area._id}}
      {{/if}}
      <button class="btn btn-danger col-xs-12 delete-area" data-id="{{state$area._id}}">Delete Area</button>
    {{/if}}
  </div>
</template>